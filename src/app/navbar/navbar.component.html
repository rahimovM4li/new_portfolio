<header class="nav-shell" [class.is-scrolled]="isScrolled">
  <div class="nav-wrap">
    <a class="brand" routerLink="/" aria-label="Home">
      <span class="brand-text" aria-label="Rahimov">
        <span class="letter" *ngFor="let letter of brandLetters">{{ letter }}</span>
      </span>
    </a>

    <nav class="nav-links">
      <a
        routerLink="/"
        routerLinkActive="is-active"
        [routerLinkActiveOptions]="{ exact: true }"
        class="nav-link"
        >{{ "NAV.HOME" | translate }}</a
      >
      <a routerLink="about" routerLinkActive="is-active" class="nav-link"
        >{{ "NAV.ABOUT" | translate }}</a
      >
      <a routerLink="projects" routerLinkActive="is-active" class="nav-link"
        >{{ "NAV.PROJECTS" | translate }}</a
      >
      <a routerLink="contact" routerLinkActive="is-active" class="nav-link"
        >{{ "NAV.CONTACT" | translate }}</a
      >
    </nav>

    <div class="nav-actions">
      <div class="lang-dropdown">
        <button class="lang-pill" (click)="toggleLanguageDropdown()">
          <span class="lang-dot"></span>
          {{ currentLang.toUpperCase() }}
        </button>
        <div *ngIf="showLangDropdown" class="lang-menu glass">
          <button (click)="switchLang('de')">Deutsch</button>
          <button (click)="switchLang('en')">English</button>
          <button (click)="switchLang('ru')">Russian</button>
        </div>
      </div>

      <a
        href="mailto:rahimov.muhammadali1704@gmail.com"
        class="btn btn-primary nav-cta"
      >
        {{ "BUTTON.HIRE_ME" | translate }}
      </a>

      <!-- Hamburger / Close toggle -->
      <button
        class="nav-toggle"
        (click)="toggleNav()"
        [attr.aria-expanded]="isMenuOpen"
        aria-controls="mobile-nav"
        [attr.aria-label]="isMenuOpen ? 'Close menu' : 'Open menu'"
      >
        <span class="hamburger-icon" [class.is-open]="isMenuOpen">
          <span class="bar"></span>
          <span class="bar"></span>
          <span class="bar"></span>
        </span>
      </button>
    </div>
  </div>
</header>

<!-- Overlay backdrop -->
<div
  class="mobile-overlay"
  [class.is-visible]="isMenuOpen"
  (click)="onOverlayClick()"
  aria-hidden="true"
></div>

<!-- Mobile slide-down menu -->
<nav
  id="mobile-nav"
  #mobileNav
  class="mobile-nav"
  [class.is-open]="isMenuOpen"
  role="navigation"
  aria-label="Mobile navigation"
>
  <div class="mobile-nav-inner">
    <a routerLink="/" (click)="closeNav()" routerLinkActive="is-active" [routerLinkActiveOptions]="{ exact: true }" class="mobile-link">
      <span class="mobile-link-text">{{ "NAV.HOME" | translate }}</span>
    </a>
    <div class="mobile-divider"></div>
    <a routerLink="about" (click)="closeNav()" routerLinkActive="is-active" class="mobile-link">
      <span class="mobile-link-text">{{ "NAV.ABOUT" | translate }}</span>
    </a>
    <div class="mobile-divider"></div>
    <a routerLink="projects" (click)="closeNav()" routerLinkActive="is-active" class="mobile-link">
      <span class="mobile-link-text">{{ "NAV.PROJECTS" | translate }}</span>
    </a>
    <div class="mobile-divider"></div>
    <a routerLink="contact" (click)="closeNav()" routerLinkActive="is-active" class="mobile-link">
      <span class="mobile-link-text">{{ "NAV.CONTACT" | translate }}</span>
    </a>
    <a href="mailto:rahimov.muhammadali1704@gmail.com" (click)="closeNav()" class="btn btn-primary mobile-cta">
      {{ "BUTTON.HIRE_ME" | translate }}
    </a>
  </div>
</nav>

<div class="nav-spacer" aria-hidden="true"></div>
