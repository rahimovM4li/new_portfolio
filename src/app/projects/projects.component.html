<section class="projects-shell section-shell" id="portfolio">
  <div class="projects-inner">
    <div class="projects-header">
      <h2 class="gradient-text">{{ "PROJECTS.title" | translate }}</h2>
      <p>{{ "PROJECTS.subtitle" | translate }}</p>
    </div>

    <div class="projects-filters">
      <button
        *ngFor="let filter of filters"
        class="filter-chip"
        [class.is-active]="activeFilter === filter.key"
        (click)="filterProjects(filter.key)"
      >
        {{ filter.label | translate }}
      </button>
    </div>

    <div class="projects-grid" [@listAnimation]="activeFilter">
      <div
        *ngFor="let project of filteredProjects; trackBy: trackByTitle"
        class="project-card glass"
        #projectCard
      >
        <div class="project-media">
          <div class="media-frame">
            <img [src]="project.image" [alt]="project.title" loading="lazy" decoding="async" />
          </div>
          <div class="media-overlay"></div>
        </div>

        <div class="project-body">
          <div class="tech-badges">
            <span *ngFor="let tech of project.techStack" class="badge">{{ tech }}</span>
          </div>
          <div class="project-title">
            <h3>{{ project.title }}</h3>
            <span>
              <ng-container *ngFor="let cat of project.category; let last = last">
                {{ cat | translate }}<span *ngIf="!last">, </span>
              </ng-container>
            </span>
          </div>
          <p class="project-summary">{{ project.readme }}</p>

          <div class="project-actions">
            <button class="btn btn-primary" (click)="openLink(project.link, $event)">Live</button>
            <button
              class="btn btn-ghost"
              [class.is-disabled]="!project.github"
              (click)="openLink(project.github, $event)"
            >
              GitHub
            </button>
            <button class="btn btn-glass" (click)="openCaseStudy(project, $event)">
              Case Study
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
